=content_for :title do
  Edit masterdata for project: #{@scoped_project_name}

=simple_modal_form_for @project_masterdata, submit_action: 'Update', url: plugin('masterdata_cockpit').project_masterdata_update_path(),method: :post, cancel_url: plugin('masterdata_cockpit').project_masterdata_path do |f|
  - if @project_masterdata.errors.present?
    .alert.alert-error
      = render_errors(@project_masterdata.errors)

  = f.input :project_id, :as => :hidden
  = f.input :project_name, :as => :hidden
  = f.input :description, label: "Description"
  %hr
  .row
    .col-sm-3
      = f.input :cost_object_inherited, label: "Inherited from domain", as: :select, include_blank: false, include_hidden: false, required:true
    .col-sm-3
      - types = MasterdataCockpit::Config.cost_object_types
      = f.input :cost_object_type, 
          label:        "Cost Object Type", 
          as:           :select, 
          collection:   types.keys, 
          label_method: -> (k) { types[k] },
          required:true
    .col-sm-6
      = f.input :cost_object_name, label: "Cost Object Name" , required:true
  %hr
  .row
    .col-sm-6
      = f.input :responsible_operator_id, label: "Resposible Operator", placeholder: "C/D/I User"
    .col-sm-6
      = f.input :responsible_operator_email, label: "Resposible Operator Email"
  .row
    .col-sm-6
      = f.input :responsible_security_expert_id, label: "Resposible Security Expert", placeholder: "C/D/I User"
    .col-sm-6
      = f.input :responsible_security_expert_email, label: "Resposible Security Expert Email"
  .row
    .col-sm-6
      = f.input :responsible_product_owner_id, label: "Resposible Product Owner", placeholder: "C/D/I User"
    .col-sm-6
      = f.input :responsible_product_owner_email, label: "Resposible Product Owner Email"
  .row
    .col-sm-6
      = f.input :responsible_controller_id, label: "Resposible Controller", placeholder: "C/D/I User"
    .col-sm-6
      = f.input :responsible_controller_email, label: "Resposible Controller Email"
  %hr
  .row
    .col-sm-6
      = f.input :revenue_relevance, label: "Revenue Relevance", as: :select, collection:['generating','enabling','other'], required:true
    .col-sm-6
      = f.input :business_criticality, label: "Business Criticality", as: :select, collection:['dev','test','prod'], required:true
  .row
    .col-sm-6
      = f.input :solution, label: "Solution", as: :select, collection: MasterdataCockpit::Config.solutions
    .col-sm-6
      = f.input :number_of_endusers , label: "Number of Endusers"
